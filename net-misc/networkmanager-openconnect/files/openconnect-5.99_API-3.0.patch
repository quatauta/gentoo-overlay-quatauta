diff -dNur NetworkManager-openconnect-0.9.8.4/auth-dialog/main.c NetworkManager-openconnect-0.9.8.4.mod/auth-dialog/main.c
--- NetworkManager-openconnect-0.9.8.4/auth-dialog/main.c	2013-09-11 20:27:18.000000000 +0200
+++ NetworkManager-openconnect-0.9.8.4.mod/auth-dialog/main.c	2014-03-07 20:38:56.203158831 +0100
@@ -346,10 +346,10 @@
 	if (entry < 0)
 		return;
 
-	data->entry_text = sopt->choices[entry].name;
+	data->entry_text = sopt->choices[entry]->name;
 
 	g_queue_foreach(data->ui_data->form_entries, (GFunc)do_override_label,
-			&sopt->choices[entry]);
+			sopt->choices[entry]);
 }
 
 #ifdef OPENCONNECT_OPENSSL
@@ -445,17 +445,17 @@
 	combo = gtk_combo_box_text_new();
 	gtk_box_pack_end(GTK_BOX(hbox), combo, FALSE, FALSE, 0);
 	for (i = 0; i < sopt->nr_choices; i++) {
-		gtk_combo_box_text_append_text(GTK_COMBO_BOX_TEXT(combo), sopt->choices[i].label);
+		gtk_combo_box_text_append_text(GTK_COMBO_BOX_TEXT(combo), sopt->choices[i]->label);
 		if (data->entry_text &&
-		    !strcmp(data->entry_text, sopt->choices[i].name)) {
+		    !strcmp(data->entry_text, sopt->choices[i]->name)) {
 			gtk_combo_box_set_active(GTK_COMBO_BOX(combo), i);
 			g_free(data->entry_text);
-			data->entry_text = sopt->choices[i].name;
+			data->entry_text = sopt->choices[i]->name;
 		}
 	}
 	if (gtk_combo_box_get_active(GTK_COMBO_BOX(combo)) < 0) {
 		gtk_combo_box_set_active(GTK_COMBO_BOX(combo), 0); 
-		data->entry_text = sopt->choices[0].name;
+		data->entry_text = sopt->choices[0]->name;
 	}
 
 	if (g_queue_peek_tail(ui_data->form_entries) == data)
